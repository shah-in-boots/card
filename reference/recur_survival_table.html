<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Recurrent Survival Data Format — recur_survival_table • card</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Recurrent Survival Data Format — recur_survival_table" />
<meta property="og:description" content="Reformats recurrent event data (wide) into different models for
survival analysis, but can also be used for simple survival analysis tables
as well. Importantly, for large datasets, this function will show
significant slow-down since it uses an intuitive approach on defining the
datasets. Future iterations will create a vectorized approach that should
provide performance speed-ups.
For recurrent events, the final censoring event can include death, or can
be ignored if its not considered a failure event.
For simple survival analysis, death censoring should be left as NULL, and
the event (e.g. &quot;date_of_death&quot;), should be used as a single event.dates
parameter. The function will do the rest.

" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">card</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/asshah4/card/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Recurrent Survival Data Format</h1>
    <small class="dont-index">Source: <a href='https://github.com/asshah4/card/blob/master/R/recurrent-events.R'><code>R/recurrent-events.R</code></a></small>
    <div class="hidden name"><code>recur_survival_table.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Reformats recurrent event data (wide) into different models for
survival analysis, but can also be used for simple survival analysis tables
as well. Importantly, for large datasets, this function will show
significant slow-down since it uses an intuitive approach on defining the
datasets. Future iterations will create a vectorized approach that should
provide performance speed-ups.</p><ul>
<li><p>For recurrent events, the final censoring event can include death, or can
be ignored if its not considered a failure event.</p></li>
<li><p>For simple survival analysis, death censoring should be left as NULL, and
the event (e.g. "date_of_death"), should be used as a single <code>event.dates</code>
parameter. The function will do the rest.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>recur_survival_table</span>(
  <span class='kw'>data</span>,
  <span class='kw'>id</span>,
  <span class='kw'>first</span>,
  <span class='kw'>last</span>,
  <span class='kw'>event.dates</span>,
  <span class='kw'>model.type</span>,
  death = <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A dataframe containing the subsequent parameters</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>Column in dataframe that contains unique IDs for each row</p></td>
    </tr>
    <tr>
      <th>first</th>
      <td><p>Column with left/enrollment dates</p></td>
    </tr>
    <tr>
      <th>last</th>
      <td><p>Column with right/censoring time point, or last contact</p></td>
    </tr>
    <tr>
      <th>event.dates</th>
      <td><p>Vector of columns that contain event dates</p></td>
    </tr>
    <tr>
      <th>model.type</th>
      <td><p>Character/string = c("marginal", "pwptt", "pwpgt")</p></td>
    </tr>
    <tr>
      <th>death</th>
      <td><p>Column created for if death is known (0 or 1), original
dataframe (e.g. can add column of zeroes PRN). Death defaults to null for
intermediate calculations otherwise.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame organized into a survival table format</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function takes every data event date, and creates several types
of recurrent event tables. It orders the data chronologically for repeat
events. Currently does marginal and conditional A and B models. The large</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='co'># Data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"mims"</span>)

<span class='co'># Parameters</span>
<span class='kw'>id</span> <span class='op'>&lt;-</span> <span class='st'>"patid"</span>
<span class='kw'>first</span> <span class='op'>&lt;-</span> <span class='st'>"first_visit_date_bl"</span>
<span class='kw'>last</span> <span class='op'>&lt;-</span> <span class='st'>"ldka"</span>
<span class='kw'>event.dates</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"mi_date_1"</span>, <span class='st'>"mi_date_2"</span>, <span class='st'>"mi_date_3"</span>)
<span class='kw'>model.type</span> <span class='op'>&lt;-</span> <span class='st'>"marginal"</span>
<span class='kw'>death</span> <span class='op'>&lt;-</span> <span class='st'>"DEATH_CV_YN"</span>

<span class='co'># Run analysis</span>
<span class='kw'>tbl</span> <span class='op'>&lt;-</span> <span class='fu'>recur_survival_table</span>(
  <span class='kw'>mims</span>, <span class='kw'>id</span>, <span class='kw'>first</span>, <span class='kw'>last</span>, <span class='kw'>event.dates</span>, <span class='kw'>model.type</span>, <span class='kw'>death</span>
)
</div><div class='output co'>#&gt; <span class='warning'>Warning: `group_by_()` is deprecated as of dplyr 0.7.0.</span>
#&gt; <span class='warning'>Please use `group_by()` instead.</span>
#&gt; <span class='warning'>See vignette('programming') for more help</span>
#&gt; <span class='warning'><span style='color: #555555;'>This warning is displayed once every 8 hours.</span><span></span>
#&gt; <span class='warning'></span><span style='color: #555555;'>Call `lifecycle::last_warnings()` to see where this warning was generated.</span><span></span></div><div class='output co'>#&gt; <span class='warning'>Warning: `arrange_()` is deprecated as of dplyr 0.7.0.</span>
#&gt; <span class='warning'>Please use `arrange()` instead.</span>
#&gt; <span class='warning'>See vignette('programming') for more help</span>
#&gt; <span class='warning'></span><span style='color: #555555;'>This warning is displayed once every 8 hours.</span><span></span>
#&gt; <span class='warning'></span><span style='color: #555555;'>Call `lifecycle::last_warnings()` to see where this warning was generated.</span><span></span></div><div class='input'><span class='co'># }</span>

</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Anish S. Shah.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


